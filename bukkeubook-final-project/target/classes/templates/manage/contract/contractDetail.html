<!DOCTYPE html>

<html xmlns:th="http://www.thymleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet"  th:href="@{/css/books/bookList/bookList.css}">
<link rel="stylesheet"  th:href="@{/css/books/bookList/bookInfo.css}">
</head>
<body>
<div th:replace="/common/topSideBar.html"></div>
    <h2 class="mb-4" id="main-text">근로계약서</h2>
        <hr><br><br>
        <h5 class="mb-4" id="sub-text">근로계약서 상세조회</h5>
        <br>

       <div id="textTable" style="text-align:-webkit-center">
        <h5 class="mb-4" id="sub-text"></h5>
        	<form>
            <table id="bookInfoTable" border="1">
                <tr>
                    <th>근로계약서 번호</th>
                    <td th:text="${ empCont.contNo }"></td>
                </tr>
                <tr>
                    <th>사원 이름</th>
                    <td th:text="${ empCont.emp.empName }"></td>
                </tr>
                <tr>
                    <th>계약서 명</th>
                    <td th:text="${ empCont.contName }"></td>
                </tr>
                <tr>
                    <th>계약 일자</th>
                    <td th:text="${ empCont.contDate }"></td>
                </tr>
                <tr>
                    <th>근로계약서 파일</th>
                    <td><a th:href="@{/cont/attach/{id}(id=${file.cfileNo})}" th:text="${file.cfileOrigName}"></a></td>
                </tr>
                <tr>
                    <th>작성자</th>
                    <td th:text="${ empCont.contWriter }"></td>
                </tr>
                <tr>
                    <th>만료일</th>
                    <td th:text="${ empCont.contExpDate }"></td>
                </tr>
                
            </table>
            </form>
          <br>
          <div id="newBookDiv">
            <button type="button" class="productBtn newBookBtn backBtn" onclick="location.href='/cont/findCont'">목록으로</button>
            <button type="button" class="productBtn newBookBtn" id="deleteBtn">삭제</button>
          </div>
        </div> <!------------------------ 본문 종료---------------------------->
          
          <br><br>
          
          <script th:inline="javascript">
          $("#deleteBtn").click(function(){
				Swal.fire({
		            title: '근로계약서를 삭제 하시겠습니까?',
		            text: "해당 근로계약서를 삭제합니다.",
		            icon: 'error',
		            showCancelButton: true,
		            confirmButtonColor: '#3085d6',
		            cancelButtonColor: '#d33',
		            confirmButtonText: '승인',
		            cancelButtonText: '취소'
		        }).then((result) => {
		            if (result.isConfirmed) {
		            	
		            	const no = [[${empCont.contNo}]];
						location.href= '/cont/deleteCont/?no=' + no 
		            }
		        })
		});
          
          </script>
     
</body>
</html>